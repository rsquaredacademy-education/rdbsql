<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 3 SQL Basics | R, Databases &amp; SQL</title>
  <meta name="description" content="Introduction to databases and SQL.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 3 SQL Basics | R, Databases &amp; SQL" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Introduction to databases and SQL." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 SQL Basics | R, Databases &amp; SQL" />
  
  <meta name="twitter:description" content="Introduction to databases and SQL." />
  

<meta name="author" content="Aravind Hebbali">


<meta name="date" content="2019-03-05">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="dbplyr.html">
<link rel="next" href="sql2.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/rsquaredacademy-education/rdbsql/">R, Databases & SQL</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-information"><i class="fa fa-check"></i>Software information</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="dbi.html"><a href="dbi.html"><i class="fa fa-check"></i><b>1</b> DBI</a><ul>
<li class="chapter" data-level="1.1" data-path="dbi.html"><a href="dbi.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="dbi.html"><a href="dbi.html#connection"><i class="fa fa-check"></i><b>1.2</b> Connection</a><ul>
<li class="chapter" data-level="1.2.1" data-path="dbi.html"><a href="dbi.html#connection-summary"><i class="fa fa-check"></i><b>1.2.1</b> Connection Summary</a></li>
<li class="chapter" data-level="1.2.2" data-path="dbi.html"><a href="dbi.html#list-tables"><i class="fa fa-check"></i><b>1.2.2</b> List Tables</a></li>
<li class="chapter" data-level="1.2.3" data-path="dbi.html"><a href="dbi.html#list-fields"><i class="fa fa-check"></i><b>1.2.3</b> List Fields</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="dbi.html"><a href="dbi.html#querying-data"><i class="fa fa-check"></i><b>1.3</b> Querying Data</a><ul>
<li class="chapter" data-level="1.3.1" data-path="dbi.html"><a href="dbi.html#entire-table"><i class="fa fa-check"></i><b>1.3.1</b> Entire Table</a></li>
<li class="chapter" data-level="1.3.2" data-path="dbi.html"><a href="dbi.html#few-rows"><i class="fa fa-check"></i><b>1.3.2</b> Few Rows</a></li>
<li class="chapter" data-level="1.3.3" data-path="dbi.html"><a href="dbi.html#read-data-in-batches"><i class="fa fa-check"></i><b>1.3.3</b> Read Data in Batches</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="dbi.html"><a href="dbi.html#query"><i class="fa fa-check"></i><b>1.4</b> Query</a><ul>
<li class="chapter" data-level="1.4.1" data-path="dbi.html"><a href="dbi.html#query-status"><i class="fa fa-check"></i><b>1.4.1</b> Query Status</a></li>
<li class="chapter" data-level="1.4.2" data-path="dbi.html"><a href="dbi.html#query-info"><i class="fa fa-check"></i><b>1.4.2</b> Query Info</a></li>
<li class="chapter" data-level="1.4.3" data-path="dbi.html"><a href="dbi.html#latest-query"><i class="fa fa-check"></i><b>1.4.3</b> Latest Query</a></li>
<li class="chapter" data-level="1.4.4" data-path="dbi.html"><a href="dbi.html#rows-fetched"><i class="fa fa-check"></i><b>1.4.4</b> Rows Fetched</a></li>
<li class="chapter" data-level="1.4.5" data-path="dbi.html"><a href="dbi.html#rows-affected"><i class="fa fa-check"></i><b>1.4.5</b> Rows Affected</a></li>
<li class="chapter" data-level="1.4.6" data-path="dbi.html"><a href="dbi.html#column-info"><i class="fa fa-check"></i><b>1.4.6</b> Column Info</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="dbi.html"><a href="dbi.html#create-table"><i class="fa fa-check"></i><b>1.5</b> Create Table</a></li>
<li class="chapter" data-level="1.6" data-path="dbi.html"><a href="dbi.html#append-data"><i class="fa fa-check"></i><b>1.6</b> Append Data</a></li>
<li class="chapter" data-level="1.7" data-path="dbi.html"><a href="dbi.html#insert-rows"><i class="fa fa-check"></i><b>1.7</b> Insert Rows</a></li>
<li class="chapter" data-level="1.8" data-path="dbi.html"><a href="dbi.html#remove-table"><i class="fa fa-check"></i><b>1.8</b> Remove Table</a></li>
<li class="chapter" data-level="1.9" data-path="dbi.html"><a href="dbi.html#sqlite-data-type"><i class="fa fa-check"></i><b>1.9</b> SQLite Data Type</a></li>
<li class="chapter" data-level="1.10" data-path="dbi.html"><a href="dbi.html#close-connection"><i class="fa fa-check"></i><b>1.10</b> Close Connection</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="dbplyr.html"><a href="dbplyr.html"><i class="fa fa-check"></i><b>2</b> dbplyr</a><ul>
<li class="chapter" data-level="2.1" data-path="dbplyr.html"><a href="dbplyr.html#introduction-3"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="dbplyr.html"><a href="dbplyr.html#connect-to-database"><i class="fa fa-check"></i><b>2.2</b> Connect to Database</a></li>
<li class="chapter" data-level="2.3" data-path="dbplyr.html"><a href="dbplyr.html#reference-data"><i class="fa fa-check"></i><b>2.3</b> Reference Data</a></li>
<li class="chapter" data-level="2.4" data-path="dbplyr.html"><a href="dbplyr.html#query-data"><i class="fa fa-check"></i><b>2.4</b> Query Data</a></li>
<li class="chapter" data-level="2.5" data-path="dbplyr.html"><a href="dbplyr.html#show-query"><i class="fa fa-check"></i><b>2.5</b> Show Query</a></li>
<li class="chapter" data-level="2.6" data-path="dbplyr.html"><a href="dbplyr.html#collect-data"><i class="fa fa-check"></i><b>2.6</b> Collect Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sqlbasics.html"><a href="sqlbasics.html"><i class="fa fa-check"></i><b>3</b> SQL Basics</a><ul>
<li class="chapter" data-level="3.1" data-path="sqlbasics.html"><a href="sqlbasics.html#introduction-4"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="sqlbasics.html"><a href="sqlbasics.html#set-up"><i class="fa fa-check"></i><b>3.2</b> Set Up</a></li>
<li class="chapter" data-level="3.3" data-path="sqlbasics.html"><a href="sqlbasics.html#select-columns"><i class="fa fa-check"></i><b>3.3</b> Select Columns</a><ul>
<li class="chapter" data-level="3.3.1" data-path="sqlbasics.html"><a href="sqlbasics.html#syntax"><i class="fa fa-check"></i><b>3.3.1</b> Syntax</a></li>
<li class="chapter" data-level="3.3.2" data-path="sqlbasics.html"><a href="sqlbasics.html#select-single-column"><i class="fa fa-check"></i><b>3.3.2</b> Select Single Column</a></li>
<li class="chapter" data-level="3.3.3" data-path="sqlbasics.html"><a href="sqlbasics.html#select-multiple-columns"><i class="fa fa-check"></i><b>3.3.3</b> Select Multiple Columns</a></li>
<li class="chapter" data-level="3.3.4" data-path="sqlbasics.html"><a href="sqlbasics.html#select-all-columns"><i class="fa fa-check"></i><b>3.3.4</b> Select All Columns</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="sqlbasics.html"><a href="sqlbasics.html#limit"><i class="fa fa-check"></i><b>3.4</b> Limit</a></li>
<li class="chapter" data-level="3.5" data-path="sqlbasics.html"><a href="sqlbasics.html#distinct"><i class="fa fa-check"></i><b>3.5</b> Distinct</a></li>
<li class="chapter" data-level="3.6" data-path="sqlbasics.html"><a href="sqlbasics.html#filter"><i class="fa fa-check"></i><b>3.6</b> Filter</a></li>
<li class="chapter" data-level="3.7" data-path="sqlbasics.html"><a href="sqlbasics.html#and-or-not"><i class="fa fa-check"></i><b>3.7</b> And, Or &amp; Not</a></li>
<li class="chapter" data-level="3.8" data-path="sqlbasics.html"><a href="sqlbasics.html#between"><i class="fa fa-check"></i><b>3.8</b> BETWEEN</a></li>
<li class="chapter" data-level="3.9" data-path="sqlbasics.html"><a href="sqlbasics.html#in"><i class="fa fa-check"></i><b>3.9</b> IN</a></li>
<li class="chapter" data-level="3.10" data-path="sqlbasics.html"><a href="sqlbasics.html#is-null"><i class="fa fa-check"></i><b>3.10</b> IS NULL</a></li>
<li class="chapter" data-level="3.11" data-path="sqlbasics.html"><a href="sqlbasics.html#like"><i class="fa fa-check"></i><b>3.11</b> LIKE</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sql2.html"><a href="sql2.html"><i class="fa fa-check"></i><b>4</b> SQL Advanced</a><ul>
<li class="chapter" data-level="4.1" data-path="sql2.html"><a href="sql2.html#introduction-5"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="sql2.html"><a href="sql2.html#set-up-1"><i class="fa fa-check"></i><b>4.2</b> Set Up</a></li>
<li class="chapter" data-level="4.3" data-path="sql2.html"><a href="sql2.html#aggregate"><i class="fa fa-check"></i><b>4.3</b> Aggregate</a></li>
<li class="chapter" data-level="4.4" data-path="sql2.html"><a href="sql2.html#alias"><i class="fa fa-check"></i><b>4.4</b> Alias</a></li>
<li class="chapter" data-level="4.5" data-path="sql2.html"><a href="sql2.html#order-by"><i class="fa fa-check"></i><b>4.5</b> Order By</a></li>
<li class="chapter" data-level="4.6" data-path="sql2.html"><a href="sql2.html#group-by"><i class="fa fa-check"></i><b>4.6</b> Group By</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R, Databases &amp; SQL</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sqlbasics" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> SQL Basics</h1>
<div id="introduction-4" class="section level2">
<h2><span class="header-section-number">3.1</span> Introduction</h2>
<p>In this chapter, we will learn to:</p>
<ul>
<li>select
<ul>
<li>single column</li>
<li>multiple columns</li>
<li>distinct values in a column</li>
</ul></li>
<li>limit the number of records returned</li>
<li>handle NULL values</li>
<li>and filter columns using the following operators
<ul>
<li>WHERE</li>
<li>AND, or &amp; NOT</li>
<li>BETWEEN</li>
<li>IN</li>
<li>LIKE</li>
</ul></li>
</ul>
<p>We will use the following R packages:</p>
<ul>
<li><a href="http://readr.tidyverse.org/">DBI</a></li>
<li><a href="https://rstats-db.github.io/RSQLite/">RSQLite</a></li>
<li><a href="http://dbplyr.tidyverse.org/">dbplyr</a></li>
</ul>
<p>All the data sets used in this chapter can be found <a href="https://github.com/rsquaredacademy/datasets">here</a> and code can be downloaded from <a href="https://gist.github.com/rsquaredacademy/f44774d9c6e115c08d5e2e693380a00f">here</a>.</p>
</div>
<div id="set-up" class="section level2">
<h2><span class="header-section-number">3.2</span> Set Up</h2>
<p>In order to be able to use the <code>ecom</code> data set for our case study, we will read
it using the <strong>readr</strong> package and then copy it to an in memory database using the
<code>copy_to()</code> function from <strong>dplyr</strong>.</p>
<pre class="sourceCode r"><code class="sourceCode r">ecom &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/rsquaredacademy/datasets/master/web.csv&#39;</span>)
con &lt;-<span class="st"> </span>DBI<span class="op">::</span><span class="kw">dbConnect</span>(RSQLite<span class="op">::</span><span class="kw">SQLite</span>(), <span class="st">&quot;:memory:&quot;</span>)
<span class="kw">copy_to</span>(con, ecom)</code></pre>
</div>
<div id="select-columns" class="section level2">
<h2><span class="header-section-number">3.3</span> Select Columns</h2>
<p>The SQL SELECT statement is used to fetch the data from a database table.</p>
<div id="syntax" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Syntax</h3>
<p>Below is the basic syntax of the SELECT statement.</p>
<p><code>SELECT column1, column2, columnN FROM table_name;</code></p>
<p>Here, column1, column2â€¦ are the fields of a table whose values you want to fetch.
If you want to fetch all the fields, use the following syntax.</p>
<p><code>SELECT * FROM table_name;</code></p>
</div>
<div id="select-single-column" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Select Single Column</h3>
<p>Let us begin by selecting the <code>device</code> field from the <code>ecom</code> table.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> device <span class="kw">FROM</span> ecom</code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-2">Table 3.1: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">device</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">laptop</td>
</tr>
<tr class="even">
<td align="left">tablet</td>
</tr>
<tr class="odd">
<td align="left">laptop</td>
</tr>
<tr class="even">
<td align="left">tablet</td>
</tr>
<tr class="odd">
<td align="left">mobile</td>
</tr>
<tr class="even">
<td align="left">laptop</td>
</tr>
<tr class="odd">
<td align="left">mobile</td>
</tr>
<tr class="even">
<td align="left">mobile</td>
</tr>
<tr class="odd">
<td align="left">mobile</td>
</tr>
<tr class="even">
<td align="left">mobile</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="select-multiple-columns" class="section level3">
<h3><span class="header-section-number">3.3.3</span> Select Multiple Columns</h3>
<p>Select the following fields from the <code>ecom</code> table:</p>
<ul>
<li><code>referrer</code></li>
<li><code>device</code></li>
<li><code>purchase</code></li>
</ul>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> referrer, device, purchase  <span class="kw">FROM</span> ecom</code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-3">Table 3.2: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">purchase</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">google</td>
<td align="left">laptop</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">direct</td>
<td align="left">laptop</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">yahoo</td>
<td align="left">laptop</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">bing</td>
<td align="left">mobile</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="select-all-columns" class="section level3">
<h3><span class="header-section-number">3.3.4</span> Select All Columns</h3>
<p>Select all the fields from the <code>ecom</code> table.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * <span class="kw">FROM</span> ecom</code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-4">Table 3.3: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">google</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">693</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">459</td>
<td align="left">Yemen</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">direct</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">996</td>
<td align="left">Brazil</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">18</td>
<td align="right">468</td>
<td align="left">China</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">434</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">955</td>
<td align="left">Poland</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">yahoo</td>
<td align="left">laptop</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">135</td>
<td align="left">South Africa</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">7</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">75</td>
<td align="left">Bangladesh</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">8</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">908</td>
<td align="left">Indonesia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">9</td>
<td align="left">bing</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">19</td>
<td align="right">209</td>
<td align="left">Netherlands</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">10</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">1</td>
<td align="right">208</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="limit" class="section level2">
<h2><span class="header-section-number">3.4</span> Limit</h2>
<p>If you have a large table with thousands of rows, returning all the records
will take time. Use LIMIT to specify the number of records to return.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * <span class="kw">FROM</span> ecom <span class="kw">limit</span> <span class="dv">10</span></code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-5">Table 3.4: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">google</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">693</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">459</td>
<td align="left">Yemen</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">direct</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">996</td>
<td align="left">Brazil</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">18</td>
<td align="right">468</td>
<td align="left">China</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">434</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">955</td>
<td align="left">Poland</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">yahoo</td>
<td align="left">laptop</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">135</td>
<td align="left">South Africa</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">7</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">75</td>
<td align="left">Bangladesh</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">8</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">908</td>
<td align="left">Indonesia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">9</td>
<td align="left">bing</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">19</td>
<td align="right">209</td>
<td align="left">Netherlands</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">10</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">1</td>
<td align="right">208</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="distinct" class="section level2">
<h2><span class="header-section-number">3.5</span> Distinct</h2>
<p>A column in a table may often contain many duplicate values; and we might be interested only in the
distinct/unique values. In such cases, we can use the SELECT DISTINCT statement to return only distinct values.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> <span class="kw">distinct</span> referrer <span class="kw">FROM</span> ecom</code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-6">Table 3.5: </span>5 records</caption>
<thead>
<tr class="header">
<th align="left">referrer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">google</td>
</tr>
<tr class="even">
<td align="left">yahoo</td>
</tr>
<tr class="odd">
<td align="left">direct</td>
</tr>
<tr class="even">
<td align="left">bing</td>
</tr>
<tr class="odd">
<td align="left">social</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="filter" class="section level2">
<h2><span class="header-section-number">3.6</span> Filter</h2>
<p>Now that we know how to select columns, let us focus on filtering data. In SQL, the WHERE keyword is used to extract only those records that fulfill a specified condition. Data filter based on both text and numeric values in a table. Below are a few comparison operators we can use:</p>
<ul>
<li><code>=</code> equal</li>
<li><code>&lt;&gt;</code> not equal</li>
<li><code>&lt;</code> less than</li>
<li><code>&gt;</code> greater than</li>
<li><code>&lt;=</code> less than or equal to</li>
<li><code>&gt;=</code> greater than or equal to</li>
</ul>
<p>The following SQL statement filters all rows from the <code>ecom</code> table where the <code>duration</code> field
is greater than 300.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * 
<span class="kw">FROM</span> ecom 
<span class="kw">WHERE</span> duration &gt; <span class="dv">300</span></code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-7">Table 3.6: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">google</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">693</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">459</td>
<td align="left">Yemen</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">direct</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">996</td>
<td align="left">Brazil</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">18</td>
<td align="right">468</td>
<td align="left">China</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">434</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">955</td>
<td align="left">Poland</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">908</td>
<td align="left">Indonesia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="left">direct</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">738</td>
<td align="left">Jamaica</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">13</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">9</td>
<td align="right">14</td>
<td align="right">406</td>
<td align="left">Ireland</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">651</td>
</tr>
<tr class="odd">
<td align="right">16</td>
<td align="left">bing</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">995</td>
<td align="left">United States</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">17</td>
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">368</td>
<td align="left">Peru</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">1049</td>
</tr>
</tbody>
</table>
</div>
<p>Let us filter data based on a text value. In the following example, we filter all rows
from the <code>ecom</code> table where the <code>device</code> used is <code>mobile</code>.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * 
<span class="kw">FROM</span> ecom 
<span class="kw">WHERE</span> device == <span class="st">&#39;mobile&#39;</span></code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-8">Table 3.7: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">955</td>
<td align="left">Poland</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">75</td>
<td align="left">Bangladesh</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">908</td>
<td align="left">Indonesia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="left">bing</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">19</td>
<td align="right">209</td>
<td align="left">Netherlands</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">1</td>
<td align="right">208</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">13</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">9</td>
<td align="right">14</td>
<td align="right">406</td>
<td align="left">Ireland</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">651</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">1</td>
<td align="right">19</td>
<td align="left">France</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">2423</td>
</tr>
<tr class="even">
<td align="right">22</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">147</td>
<td align="left">Brazil</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="left">bing</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">196</td>
<td align="left">Russia</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">237</td>
</tr>
<tr class="even">
<td align="right">29</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">338</td>
<td align="left">Russia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="and-or-not" class="section level2">
<h2><span class="header-section-number">3.7</span> And, Or &amp; Not</h2>
<p>The WHERE clause can be combined with other operators such as</p>
<ul>
<li>AND - displays a record if all the conditions separated by AND is TRUE</li>
<li>OR - displays a record if any of the conditions separated by OR is TRUE</li>
<li>NOT - displays a record if the condition(s) is NOT TRUE</li>
</ul>
<p>to filter data based on more than one condition or to create more complex conditions.</p>
<p>In the following example, we filter all the rows from the <code>ecom</code> table where
<code>n_visit</code> (visit count) is greater than 3 and <code>duration</code> (time spent on the site)
is greater than 100. We use AND to create multiple conditions.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * 
<span class="kw">FROM</span> ecom 
<span class="kw">WHERE</span> n_visit &gt; <span class="dv">3</span> <span class="kw">AND</span> duration &gt; <span class="dv">100</span></code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-9">Table 3.8: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">google</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">693</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">459</td>
<td align="left">Yemen</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">955</td>
<td align="left">Poland</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">yahoo</td>
<td align="left">laptop</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">135</td>
<td align="left">South Africa</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">908</td>
<td align="left">Indonesia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">1</td>
<td align="right">208</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="left">direct</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">738</td>
<td align="left">Jamaica</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="left">direct</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">12</td>
<td align="right">132</td>
<td align="left">Estonia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">9</td>
<td align="right">14</td>
<td align="right">406</td>
<td align="left">Ireland</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">651</td>
</tr>
<tr class="even">
<td align="right">17</td>
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">368</td>
<td align="left">Peru</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">1049</td>
</tr>
</tbody>
</table>
</div>
<p>In the next example, we will use both AND &amp; OR. Our goal is to filter all
rows from the <code>ecom</code> table that follow the below conditions:</p>
<ul>
<li><code>n_visit</code> (visit count) is either equal to 3 or 5</li>
<li><code>device</code> used to visit the website is either <code>mobile</code> or <code>tablet</code></li>
</ul>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * 
<span class="kw">FROM</span> ecom <span class="kw">WHERE</span> (n_visit == <span class="dv">5</span> <span class="kw">OR</span> n_visit == <span class="dv">3</span>)  
<span class="kw">AND</span> (device = <span class="st">&#39;mobile&#39;</span> <span class="kw">OR</span> device = <span class="st">&#39;tablet&#39;</span>)</code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-10">Table 3.9: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4</td>
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">18</td>
<td align="right">468</td>
<td align="left">China</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">434</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="left">bing</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">19</td>
<td align="right">209</td>
<td align="left">Netherlands</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">14</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">8</td>
<td align="right">80</td>
<td align="left">Philippines</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">362</td>
</tr>
<tr class="even">
<td align="right">17</td>
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">368</td>
<td align="left">Peru</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">1049</td>
</tr>
<tr class="odd">
<td align="right">22</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">147</td>
<td align="left">Brazil</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">38</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">700</td>
<td align="left">Canada</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">50</td>
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">831</td>
<td align="left">Iran</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">53</td>
<td align="left">social</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">12</td>
<td align="right">324</td>
<td align="left">China</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">64</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">140</td>
<td align="left">Latvia</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">2798</td>
</tr>
<tr class="even">
<td align="right">67</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">332</td>
<td align="left">France</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="between" class="section level2">
<h2><span class="header-section-number">3.8</span> BETWEEN</h2>
<p>The BETWEEN operator selects values within a given range and is inclusive: begin and end values are included. The values can be numbers, text, or dates. In the following example, we filter rows from
the <code>ecom</code> table where the visit count is between 1 and 3, and the <code>device</code> used to visit the website is
<code>mobile</code>.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * 
<span class="kw">FROM</span> ecom
<span class="kw">WHERE</span> n_visit <span class="kw">BETWEEN</span> <span class="dv">1</span> <span class="kw">AND</span> <span class="dv">3</span> <span class="kw">AND</span> device = <span class="st">&#39;mobile&#39;</span></code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-11">Table 3.10: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">9</td>
<td align="left">bing</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">19</td>
<td align="right">209</td>
<td align="left">Netherlands</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">32</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">501</td>
<td align="left">El Salvador</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">36</td>
<td align="left">bing</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">25</td>
<td align="left">Ireland</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">1885</td>
</tr>
<tr class="even">
<td align="right">38</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">700</td>
<td align="left">Canada</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">42</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">13</td>
<td align="right">234</td>
<td align="left">Indonesia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">49</td>
<td align="left">social</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">44</td>
<td align="left">France</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">1515</td>
</tr>
<tr class="odd">
<td align="right">98</td>
<td align="left">bing</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">18</td>
<td align="right">288</td>
<td align="left">Portugal</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">764</td>
</tr>
<tr class="even">
<td align="right">99</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">73</td>
<td align="left">Indonesia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">102</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">69</td>
<td align="left">Bahamas</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">583</td>
</tr>
<tr class="even">
<td align="right">105</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">423</td>
<td align="left">Mexico</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="in" class="section level2">
<h2><span class="header-section-number">3.9</span> IN</h2>
<p>The IN operator allows us to specify multiple values in a WHERE clause. It is a shorthand
for multiple OR conditions. In the below example, we filter rows from the <code>ecom</code> table where
the visit count is either 2 or 4 or 6 or 8 or 10. Instead of using multiple OR conditions,
we use the IN operator.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * 
<span class="kw">FROM</span> ecom 
<span class="kw">WHERE</span> n_visit <span class="kw">IN</span> (<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>)</code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-12">Table 3.11: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">google</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">693</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">75</td>
<td align="left">Bangladesh</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="left">direct</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">908</td>
<td align="left">Indonesia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">1</td>
<td align="right">208</td>
<td align="left">Czech Republic</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">12</td>
<td align="left">direct</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">12</td>
<td align="right">132</td>
<td align="left">Estonia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="left">social</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">28</td>
<td align="left">Namibia</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">2077</td>
</tr>
<tr class="odd">
<td align="right">21</td>
<td align="left">direct</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">384</td>
<td align="left">China</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">24</td>
<td align="left">social</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">850</td>
<td align="left">Ukraine</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">27</td>
<td align="left">direct</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">19</td>
<td align="right">342</td>
<td align="left">Japan</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">622</td>
</tr>
<tr class="even">
<td align="right">29</td>
<td align="left">google</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">338</td>
<td align="left">Russia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="is-null" class="section level2">
<h2><span class="header-section-number">3.10</span> IS NULL</h2>
<p>A field with a NULL value is a field with no value. If a field in a table is optional, it is possible to insert a new record or update a record without adding a value to this field. Then, the field will be saved with a NULL value. In the next example, we filter all rows from the <code>ecom</code> table where the <code>device</code> column
has NULL values.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * 
<span class="kw">FROM</span> ecom 
<span class="kw">WHERE</span> device <span class="kw">IS</span> <span class="kw">NULL</span></code></pre>
<div class="knitsql-table">
<p>Table: (#tab:unnamed-chunk-13)0 records</p>
<p>id referrer device bouncers n_visit n_pages duration country purchase order_items order_value
â€” â€”â€”â€” â€”â€”- â€”â€”â€” â€”â€”â€“ â€”â€”â€“ â€”â€”â€” â€”â€”â€“ â€”â€”â€” â€”â€”â€”â€” â€”â€”â€”â€”</p>
</div>
</div>
<div id="like" class="section level2">
<h2><span class="header-section-number">3.11</span> LIKE</h2>
<p>The LIKE operator is used to search for a specific pattern in a column. There are two wildcards used in conjunction with the LIKE operator:</p>
<ul>
<li>% : represents zero, one, or multiple characters</li>
<li>_ : represents a single character</li>
</ul>
<p>In the following example, we filter all rows from the <code>ecom</code> table where the name of the <code>country</code> starts with <code>P</code>. We use <code>%</code> after <code>P</code> to indicate that it can be followed by any number or type of characters.</p>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * 
<span class="kw">FROM</span> ecom 
<span class="kw">WHERE</span> country <span class="kw">LIKE</span> <span class="st">&#39;P%&#39;</span></code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-14">Table 3.13: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">955</td>
<td align="left">Poland</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">8</td>
<td align="right">80</td>
<td align="left">Philippines</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">362</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="left">bing</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">368</td>
<td align="left">Peru</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">1049</td>
</tr>
<tr class="even">
<td align="right">43</td>
<td align="left">bing</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">456</td>
<td align="left">Portugal</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">59</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">706</td>
<td align="left">Philippines</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">62</td>
<td align="left">direct</td>
<td align="left">tablet</td>
<td align="right">1</td>
<td align="right">8</td>
<td align="right">1</td>
<td align="right">814</td>
<td align="left">Philippines</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">72</td>
<td align="left">social</td>
<td align="left">laptop</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">176</td>
<td align="left">Panama</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">2216</td>
</tr>
<tr class="even">
<td align="right">77</td>
<td align="left">yahoo</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">928</td>
<td align="left">Peru</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">88</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">11</td>
<td align="right">176</td>
<td align="left">Philippines</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">93</td>
<td align="left">google</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">869</td>
<td align="left">Poland</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<p>Let us look at another example where we filter all rows from the <code>ecom</code> table where the name of the
country should follow the below conditions:</p>
<ul>
<li>name can start with any character</li>
<li>the second character must be <code>o</code></li>
<li>it can have any type or number of characters after the second character</li>
</ul>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> * 
<span class="kw">FROM</span> ecom 
<span class="kw">WHERE</span> country <span class="kw">LIKE</span> <span class="st">&#39;_o%&#39;</span></code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-15">Table 3.14: </span>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">referrer</th>
<th align="left">device</th>
<th align="right">bouncers</th>
<th align="right">n_visit</th>
<th align="right">n_pages</th>
<th align="right">duration</th>
<th align="left">country</th>
<th align="right">purchase</th>
<th align="right">order_items</th>
<th align="right">order_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">955</td>
<td align="left">Poland</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">yahoo</td>
<td align="left">laptop</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">135</td>
<td align="left">South Africa</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="left">social</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">10</td>
<td align="right">290</td>
<td align="left">Colombia</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1304</td>
</tr>
<tr class="even">
<td align="right">30</td>
<td align="left">yahoo</td>
<td align="left">mobile</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">9</td>
<td align="right">225</td>
<td align="left">Colombia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">33</td>
<td align="left">direct</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">8</td>
<td align="right">1</td>
<td align="right">658</td>
<td align="left">Colombia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">43</td>
<td align="left">bing</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">456</td>
<td align="left">Portugal</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">44</td>
<td align="left">yahoo</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">11</td>
<td align="right">264</td>
<td align="left">Somalia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">56</td>
<td align="left">google</td>
<td align="left">tablet</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">19</td>
<td align="right">304</td>
<td align="left">Colombia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">93</td>
<td align="left">google</td>
<td align="left">laptop</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">869</td>
<td align="left">Poland</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">95</td>
<td align="left">social</td>
<td align="left">tablet</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">566</td>
<td align="left">Portugal</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dbplyr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sql2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
